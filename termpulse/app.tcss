/* termpulse — Convergent Terminal Dashboard */
/* Contextual theming: border colors shift with git state */

Screen {
    layout: grid;
    grid-size: 2 3;
    grid-gutter: 1;
    padding: 1;
    background: $surface;
}

/* Header spans full width */
#header {
    column-span: 2;
    height: 3;
    content-align: center middle;
    background: $primary-background;
    color: $text;
    text-style: bold;
}

/* Dashboard view — git and system side by side in row 2 */
#git-pulse {
    height: 100%;
    min-height: 10;
}

#system-vitals {
    height: 100%;
    min-height: 10;
}

#command-flow {
    column-span: 2;
    height: 100%;
    min-height: 8;
}

#momentum {
    dock: bottom;
    height: 8;
    column-span: 2;
}

/* Contextual color overrides */
.drift-calm GitPulse {
    border: round green;
}

.drift-warm GitPulse {
    border: round yellow;
}

.drift-hot GitPulse {
    border: round $warning;
}

.drift-critical GitPulse {
    border: round red;
}

/* Diff Explorer view — hidden by default, toggled with f */
#diff-explorer {
    display: none;
    column-span: 2;
    height: 100%;
    min-height: 15;
}

#file-heatmap {
    display: none;
    column-span: 2;
    height: 100%;
    min-height: 8;
}

/* Focus styling — AFTER drift rules so focus always wins on specificity tie */
GitPulse:focus,
SystemVitals:focus,
CommandFlow:focus,
MomentumTracker:focus,
DiffExplorer:focus,
FileHeatmap:focus {
    border: thick $accent;
}
